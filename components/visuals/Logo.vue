<template>
  <!-- <div class="logo-container" v-html="require('@/assets/imgs/svg/logo_full.svg?raw')">
  </div> -->

  <div class="logo">
    <div class="logo__shine" v-if="!logoIsOpen">
      <svg class="logo__shine-svg" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="668.9" height="716.64" viewBox="0 0 668.9 716.64">
        <path class="cls-1" d="M799.29,551.38l46.82,59.22-59.19-46.78a123,123,0,0,1-69.63,29.87L705.78,706.25,694.26,593.69a123,123,0,0,1-70.07-30.26l-35.28,27.89,27.75-35.11A123,123,0,0,1,583,484L480.58,472l102.16-12a123,123,0,0,1,34.12-75l-18.63-23.56,23.62,18.67a122.92,122.92,0,0,1,72.4-32.37l11.53-112.57,11.51,112.56a123.06,123.06,0,0,1,73.4,33.3l40.37-31.91L799,389.73a122.88,122.88,0,0,1,29.79,70L934.28,472,828.51,484.41A122.83,122.83,0,0,1,799.29,551.38Z" transform="translate(-372.99 -112.44)"/>
      </svg>
    </div>
    <div v-show="showLoopGradient" class="logo__hover-zone" @mouseover="startHoverAnim" @mouseleave="exitHoverAnim" @click="clickAnim">
      <svg class="logo__min" :class="[{'flicker' : flicker}, {'pulse' : pulse}]" ref="logoMin" xmlns="http://www.w3.org/2000/svg" width="458.67" height="454.98" viewBox="0 0 458.67 454.98">
        <path class="cls-1" d="M561.18,225.35,512.32,242.5l52.06,19.39c6.77,35.5,14.33,47.37,28.28,74.17l-10.12,21.42,21.75-8.68a146.07,146.07,0,0,0,83.12,40.33l17,47.43,20.32-47.31a146,146,0,0,0,84-40.41L829,358.45l-8.84-22.16a145.65,145.65,0,0,0,31.61-73.48l48.32-17.3-48.34-20.78a145.77,145.77,0,0,0-33-75L830,125.87l-24.67,9.85a145.85,145.85,0,0,0-79.4-37.07L707.76,49.84,687.53,98.59a145.82,145.82,0,0,0-75.91,33.68L583.51,119l11.78,29.54a145.85,145.85,0,0,0-34.11,76.83l.19-.07m145.84,154a136,136,0,1,1,136-136A136,136,0,0,1,707.21,379.28Z" transform="translate(-475.57 -15.71)"/>
      </svg>
    </div>
    <svg
      class="logo__full"
      width="1408.1"
      height="414.02"
      viewBox="0 0 1408.1 414.02"
      version="1.1"
      sodipodi:docname="logo_full.svg"
      inkscape:version="1.2.1 (9c6d41e410, 2022-07-14)"
      xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
      xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:svg="http://www.w3.org/2000/svg">

      <foreignObject height="100%" width="100%" clip-path="url(#lightMask)">
        <div v-if="!showLoopGradient" class="light-gradient" ref="LightGradient" :style="`background-image: url(${gradientImage})`">

        </div>
        <div class="light-gradient-loop" ref="LightGradientLoop" :class="{'show' : showLoopGradient}" :style="`background: url(${gradientLoop})`">

        </div>
      </foreignObject>
      <defs>
        <clipPath id="lightMask">
          <path

            d="M 722.10086 39.130156 L 701.87039 87.880156 A 145.82 145.82 0 0 0 625.9993 121.55984 L 597.88992 108.27078 L 609.66922 137.80984 A 145.85 145.85 0 0 0 575.5618 214.62625 L 575.52078 214.63992 L 526.65945 231.79031 L 578.72 251.18094 C 585.48999 286.6809 593.04931 298.55089 606.9993 325.35086 L 596.88016 346.77078 L 618.63016 338.08914 A 146.07 146.07 0 0 0 701.7493 378.41922 L 718.7493 425.85086 L 739.06961 378.54031 A 146 146 0 0 0 823.06961 338.13016 L 843.38992 347.73953 L 834.55008 325.57938 A 145.65 145.65 0 0 0 866.15945 252.10086 L 914.47977 234.80008 L 866.12039 213.9993 A 145.77 145.77 0 0 0 833.12039 138.9993 L 844.38016 115.16922 L 819.66922 124.9993 A 145.85 145.85 0 0 0 740.27078 87.930937 L 722.10086 39.130156 z M 721.58914 96.569609 A 136 136 0 0 1 857.58914 232.56961 A 136 136 0 0 1 721.58523 368.56766 A 136 136 0 0 1 721.58914 96.569609 z M 649.86063 194.61062 L 649.89969 255.20047 L 659.9993 255.20047 L 659.9993 229.9993 L 720.60086 229.9993 L 720.60086 219.90945 L 659.9993 219.90945 L 659.9993 194.61062 L 649.86063 194.61062 z M 750.89969 194.61062 C 745.22636 194.60396 740.66047 195.97024 737.20047 198.71023 A 13.37 13.37 0 0 0 731.9993 209.80984 L 731.9993 229.80984 L 742.05984 229.80984 L 742.05984 212.11062 A 7.24 7.24 0 0 1 744.35086 206.65945 A 7.52 7.52 0 0 1 749.60086 204.71023 L 802.70047 204.71023 L 802.70047 194.61062 L 750.89969 194.61062 z M 193.27078 195.60086 L 193.27078 256.20047 L 264.97 256.20047 C 270.62999 256.1938 275.14745 254.82752 278.52078 252.10086 A 13.55 13.55 0 0 0 283.56961 240.9993 L 283.56961 195.61062 L 273.56961 195.61062 L 273.56961 238.71023 A 6.72 6.72 0 0 1 271.22 244.10086 A 8.3 8.3 0 0 1 265.77078 246.10086 L 203.37039 246.10086 L 203.37039 195.60086 L 193.27078 195.60086 z M 1158.8704 195.60086 L 1158.8704 240.9993 A 13.53 13.53 0 0 0 1163.9192 252.10086 C 1167.2792 254.83419 1171.7967 256.20047 1177.47 256.20047 L 1211.0696 256.20047 C 1216.7363 256.1938 1221.2537 254.82752 1224.6204 252.10086 A 13.55 13.55 0 0 0 1229.6692 240.9993 L 1229.6692 195.61062 L 1219.5696 195.61062 L 1219.5696 238.71023 A 7.31 7.31 0 0 1 1217.3509 244.10086 A 7.56 7.56 0 0 1 1212.1009 246.10086 L 1176.4993 246.10086 A 7.2 7.2 0 0 1 1171.2005 243.89969 A 7.1 7.1 0 0 1 1168.9993 238.70047 L 1168.9993 195.60086 L 1158.8704 195.60086 z M 7.47 195.61062 L 7.47 256.20047 L 17.569609 256.20047 L 17.569609 230.9993 L 78.169219 230.9993 L 78.169219 220.90945 L 17.569609 220.90945 L 17.569609 195.61062 L 7.47 195.61062 z M 89.569609 195.61062 L 89.569609 205.71023 L 160.27078 205.71023 L 160.27078 195.61062 L 89.569609 195.61062 z M 171.66922 195.61062 L 171.66922 256.21023 L 181.87039 256.21023 L 181.87039 195.61062 L 171.66922 195.61062 z M 233.37039 195.61062 L 233.37039 237.80984 L 243.47 237.80984 L 243.47 195.61062 L 233.37039 195.61062 z M 375.06961 195.61062 L 375.06961 256.21023 L 385.16922 256.21023 L 385.16922 205.71023 L 428.06961 205.71023 A 8.11 8.11 0 0 1 433.47 207.65945 A 6.77 6.77 0 0 1 435.77078 213.11062 L 435.77078 256.21023 L 445.87039 256.21023 L 445.87039 210.80984 A 13.55 13.55 0 0 0 440.81961 199.71023 C 437.44628 196.9769 432.93078 195.61062 427.27078 195.61062 L 375.06961 195.61062 z M 1013.5696 195.61062 C 1007.8963 195.61062 1003.3304 196.9769 999.87039 199.71023 A 13.37 13.37 0 0 0 994.66922 210.80984 L 994.66922 230.80984 L 1004.7708 230.80984 L 1004.7708 213.11062 A 7.24 7.24 0 0 1 1007.0208 207.65945 A 7.52 7.52 0 0 1 1012.2708 205.71023 L 1065.3704 205.71023 L 1065.3704 195.61062 L 1013.5696 195.61062 z M 1076.7708 195.61062 L 1076.7708 205.71023 L 1107.0696 205.71023 L 1107.0696 256.21023 L 1117.1692 256.21023 L 1117.1692 205.71023 L 1147.47 205.71023 L 1147.47 195.61062 L 1076.7708 195.61062 z M 1241.0696 195.61062 L 1241.0696 205.71023 L 1294.1692 205.71023 A 8.25 8.25 0 0 1 1299.47 207.46023 C 1300.93 208.63023 1301.6692 210.51063 1301.6692 213.11062 L 1301.6692 238.71023 A 6.93 6.93 0 0 1 1299.47 244.10086 A 7.73 7.73 0 0 1 1294.1692 246.10086 L 1251.1692 246.10086 L 1251.1692 220.89969 L 1241.0696 220.89969 L 1241.0696 256.20047 L 1293.1692 256.20047 C 1298.8292 256.1938 1303.3467 254.82752 1306.72 252.10086 A 13.55 13.55 0 0 0 1311.72 240.9993 L 1311.72 210.80984 A 13.55 13.55 0 0 0 1306.72 199.71023 C 1303.3467 196.9769 1298.8292 195.61062 1293.1692 195.61062 L 1241.0696 195.61062 z M 1323.1692 195.61062 L 1323.1692 256.21023 L 1333.3704 256.21023 L 1333.3704 195.61062 L 1323.1692 195.61062 z M 1363.3997 195.61062 C 1357.6997 195.61062 1353.1842 196.9769 1349.8509 199.71023 A 13.53 13.53 0 0 0 1344.8509 210.80984 L 1344.8509 241.00906 A 13.53 13.53 0 0 0 1349.8509 252.11062 C 1353.2175 254.84396 1357.733 256.21023 1363.3997 256.21023 L 1396.9993 256.21023 C 1402.646 256.21023 1407.1634 254.84086 1410.5501 252.10086 A 13.55 13.55 0 0 0 1415.5501 240.9993 L 1415.5501 210.80984 A 13.55 13.55 0 0 0 1410.5501 199.71023 C 1407.1767 196.9769 1402.6593 195.61062 1396.9993 195.61062 L 1363.3997 195.61062 z M 328.66922 195.80984 C 327.46922 195.80984 325.92961 196.47985 324.06961 197.80984 C 322.19628 199.14318 320.22922 201.80985 318.16922 205.80984 L 292.06961 256.21023 L 303.77078 256.21023 L 329.27078 207.71023 L 354.66922 256.21023 L 366.56961 256.21023 L 340.47 205.80984 A 36.24 36.24 0 0 0 337.37039 200.86062 A 23 23 0 0 0 334.56961 197.75906 A 7.89 7.89 0 0 0 332.16922 196.21023 A 5.86 5.86 0 0 0 330.16922 195.80984 L 328.66922 195.80984 z M 1362.3997 205.71023 L 1397.9993 205.71023 A 7.73 7.73 0 0 1 1403.3001 207.65945 A 6.93 6.93 0 0 1 1405.4993 213.11062 L 1405.4993 238.71023 L 1405.47 238.71023 A 7.31 7.31 0 0 1 1403.2493 244.11062 A 7.56 7.56 0 0 1 1397.9993 246.11062 L 1362.3997 246.11062 A 7.2 7.2 0 0 1 1357.1009 243.90945 A 7.1 7.1 0 0 1 1354.8997 238.71023 L 1354.8997 213.11062 A 6.9 6.9 0 0 1 1357.1009 207.65945 A 7.7 7.7 0 0 1 1362.3997 205.71023 z M 792.55984 219.9993 L 792.55984 237.71023 A 7.31 7.31 0 0 1 790.35086 243.10086 A 7.56 7.56 0 0 1 785.10086 245.10086 L 731.9993 245.10086 L 731.9993 255.20047 L 783.75906 255.20047 C 789.41906 255.1938 793.9869 253.82752 797.46023 251.10086 A 13.4 13.4 0 0 0 802.65945 239.9993 L 802.65945 219.9993 L 792.55984 219.9993 z M 89.569609 220.90945 L 89.569609 231.00906 L 160.27078 231.00906 L 160.27078 220.90945 L 89.569609 220.90945 z M 1055.2708 220.9993 L 1055.2708 238.71023 A 7.31 7.31 0 0 1 1053.0208 244.10086 A 7.56 7.56 0 0 1 1047.7708 246.10086 L 994.66922 246.10086 L 994.66922 256.20047 L 1046.47 256.20047 C 1052.1367 256.1938 1056.7026 254.82752 1060.1692 252.10086 A 13.4 13.4 0 0 0 1065.3704 240.9993 L 1065.3704 220.9993 L 1055.2708 220.9993 z M 89.569609 246.11062 L 89.569609 256.21023 L 160.27078 256.21023 L 160.27078 246.11062 L 89.569609 246.11062 z "
            transform="translate(-7.47 -25.47)" />
        </clipPath>
      </defs>
    </svg>

  </div>
</template>

<script>
export default {
  data() {
    return {
      showGradient: false,
      showLoopGradient: false,
      pulse: false,
      flicker: true,
      circleGlow: false,
      mouseOnLogo: false,
      logoIsOpen: false
    }
  },
  props: {
    gradientImage: null,
    gradientLoop: null
  },
  mounted() {
    let me = this
    setTimeout(() => {
      me.startIntroAnim()
    }, 2500)
    this.startHoverAnim()
    this.exitHoverAnim()
  },

  methods: {
    show() {
    },
    startIntroAnim() {
      const gsap = this.$gsap
      gsap.to('.light-gradient',
        {backgroundPositionX: "1%", duration: 3.6, ease: "Linear.easeNone"}
      ).then(() => {
        this.showLoopGradient = true
        this.initHoverZoneAnim()
      })
    },
    initHoverZoneAnim() {
      const gsap = this.$gsap
      gsap.to('.logo__hover-zone path', {
        opacity: 0.5,
        duration: 2.55,
        ease: "Linear.easeNone"
      }).then(() => {
        this.pulse = true
      })
    },
    clickAnim() {
      const gsap = this.$gsap
      gsap.to('.logo__shine-svg', {height:  "9000px", duration: 1.8, ease: "Power1.easeOut"}).then(() => {
        this.logoIsOpen = true
        this.$emit('openLogo')
      })
    },
    startHoverAnim() {
      const gsap = this.$gsap
      this.flicker = false
      this.mouseOnLogo = true
      gsap.to('.logo__min', {opacity: 0.8 + "!important", duration: 0.8, ease: "Power1.easeOut"}).then(() => {
        this.circleGlow = true
      })
    },
    exitHoverAnim() {
      this.mouseOnLogo = false
      const gsap = this.$gsap
      gsap.to('.logo__min', {opacity: 0.3, duration: 0.8, ease: "Power1.easeOut"}).then(() => {
        if (!this.mouseOnLogo) {
          this.flicker = true
        }
      })
    }
  },
}
</script>
